<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>INSTITUTO FEDERAL DO PARANÃ - UniÃ£o da VitÃ³ria</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="auth-overlay" class="modal-overlay">
        <div class="modal-content">
            <h3>Acesso Restrito</h3>
            <p style="text-align: center; margin-bottom: 20px;">Por favor, faÃ§a login para editar o diagrama.</p>
            <form id="login-form">
                <label for="login-email">Email:</label>
                <input type="email" id="login-email" required>
                <label for="login-password">Senha:</label>
                <input type="password" id="login-password" required>
                <p id="login-error" style="color: red; font-size: 0.9em; margin-top: 10px; text-align: center;"></p>
                <div class="modal-buttons">
                    <button type="submit">Entrar</button>
                </div>
            </form>
        </div>
    </div>

    <header class="header">
        <h1>ğŸ›ï¸ INSTITUTO FEDERAL DO PARANÃ - UniÃ£o da VitÃ³ria</h1>
        <div class="header-controls">
            <p>Layout de Rede Interativo</p>
            <div id="user-status" style="display: none; margin-top: 10px;">
                <span id="user-email" style="color: white; margin-right: 15px;"></span>
                <button id="btn-logout" style="padding: 5px 10px; border-radius: 5px; border: none; cursor: pointer;">Sair</button>
            </div>
        </div>
    </header>

    <main class="network-container" id="main-content" style="display: none;">
        <div class="network-diagram" id="networkDiagram">
            <div id="canvas">
                <svg id="connections-svg"></svg>
            </div>
            <div class="view-controls">
                <button id="zoom-out" title="Reduzir Zoom (Scroll Out)">â–</button>
                <button id="zoom-in" title="Ampliar Zoom (Scroll In)">â•</button>
                <button id="zoom-reset" title="Resetar Zoom">1:1</button>
                <button id="zoom-fit" title="Centralizar nos Equipamentos">âŒ–</button>
                <span id="zoom-level">100%</span>
            </div>
        </div>

        <section class="control-panel">
            <div class="panel-header">
                <h3>ğŸ”§ Dispositivos</h3>
                <div class="control-buttons">
                    <button id="btn-import">ğŸ“‚ Importar JSON</button>
                    <button id="btn-export">ğŸ’¾ Exportar JSON</button>
                    <button id="btn-clear">ğŸ§¹ Limpar Tudo</button>
                    <input type="file" id="import-file" accept=".json" style="display: none;">
                </div>
            </div>
            <div class="device-templates">
                 <button id="add-router" class="template-item"><div>ğŸ“¡</div><div>Router</div></button>
                 <button id="add-switch" class="template-item"><div>ğŸ”€</div><div>Switch</div></button>
                 <button id="add-server" class="template-item"><div>ğŸ–¥ï¸</div><div>Servidor</div></button>
                 <button id="add-firewall" class="template-item"><div>ğŸ”¥</div><div>Firewall</div></button>
                 <button id="add-endpoint" class="template-item"><div>ğŸ’»</div><div>Endpoint</div></button>
                 <button id="add-printer" class="template-item"><div>ğŸ–¨ï¸</div><div>Impressora</div></button>
                 <button id="add-printer3d" class="template-item"><div>ğŸ§Š</div><div>Impressora 3D</div></button>
                 <button id="add-nvr" class="template-item"><div>ğŸ“¹</div><div>NVR</div></button>
                 <button id="add-camera" class="template-item"><div>ğŸ“·</div><div>CÃ¢mera</div></button>
                 <button id="add-tv" class="template-item"><div>ğŸ“º</div><div>TV</div></button>
                 <button id="add-custom" class="template-item"><div>â•</div><div>Personalizado</div></button>
            </div>
             <div class="instructions">
                <h4>ğŸ“‹ Como usar:</h4>
                <ul>
                    <li><strong>Adicionar:</strong> Clique em um modelo acima para adicionar um dispositivo ao centro da tela.</li>
                    <li><strong>Editar:</strong> DÃª um <b>duplo-clique</b> em um dispositivo para editar suas propriedades.</li>
                    <li><strong>Conectar:</strong> Segure <b>Shift</b>, clique no dispositivo de origem e depois no de destino.</li>
                    <li><strong>Selecionar MÃºltiplos:</strong> Segure <b>Ctrl</b> ou <b>Cmd</b> e clique em vÃ¡rios dispositivos.</li>
                    <li><strong>Navegar:</strong> Segure <b>Barra de EspaÃ§o</b> e arraste com o mouse para mover o canvas.</li>
                    <li><strong>Zoom:</strong> Use a <b>roda do mouse</b> ou os botÃµes de controle de zoom.</li>
                    <li><strong>Deletar:</strong> Selecione um ou mais dispositivos e pressione a tecla <b>Delete</b> ou <b>Backspace</b>.</li>
                </ul>
            </div>
        </section>
    </main>

    <div id="edit-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h3 id="modal-title">Editar Dispositivo</h3>
        <form id="edit-form">
            <label for="modal-name">Nome do Dispositivo:</label>
            <input type="text" id="modal-name" required>

            <label for="modal-LocalizaÃ§Ã£o">LocalizaÃ§Ã£o:</label>
            <input type="text" id="modal-LocalizaÃ§Ã£o">
			
			<label for="modal-ip">EndereÃ§o IP:</label>
            <input type="text" id="modal-ip">
			
			<label for="modal-MAC">EndereÃ§o MAC:</label>
            <input type="text" id="modal-MAC">
			
			<label for="modal-Patrimonio">Patrimonio:</label>
            <input type="text" id="modal-Patrimonio">

            <label for="modal-info">InformaÃ§Ãµes Adicionais:</label>
            <input type="text" id="modal-info">

            <label for="modal-photo">URL da Foto (opcional):</label>
            <input type="text" id="modal-photo" placeholder="https://exemplo.com/imagem.png">

            <label for="modal-website">URL do Website (opcional):</label>
            <input type="text" id="modal-website" placeholder="https://exemplo.com">

            <div id="modal-custom-fields" style="display: none;">
                <label for="modal-custom-icon">Ãcone Personalizado:</label>
                <input type="text" id="modal-custom-icon">

                <label for="modal-custom-color">Cor Personalizada:</label>
                <input type="color" id="modal-custom-color">
            </div>

            <div class="modal-buttons">
                <button type="button" id="modal-cancel">Cancelar</button>
                <button type="submit" id="modal-save">Salvar</button>
            </div>
        </form>
    </div>
</div>

    <script type="module" src="main.js"></script>
</body>

</html>
